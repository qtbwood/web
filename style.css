@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');

/* --- 基本重置與設定 --- */
:root {
    --bg-color: #FAF0E6; /* 米色 (亞麻色) */
    --text-color: #333;
    --accent-color-blue: #003366; 
}

html {
    scroll-behavior: smooth; 
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    background-color: var(--bg-color); /* <body> 保持米色背景 */
    color: var(--text-color);
    margin: 0;
    padding: 0;
    font-size: 16px;
    line-height: 1.6;
    overflow-x: hidden; 
}

a {
    color: var(--text-color);
    text-decoration: none;
    transition: opacity 0.3s ease;
}

a:hover {
    opacity: 0.7;
    transform: translateY(-1px);
}

/* --- 1. & 2. 固定元件 --- */

.site-identifier {
    position: absolute; 
    top: 40px;  
    right: 50px; 
    z-index: 100; 
}

.site-identifier img {
    height: 43px; 
    width: auto;  
    display: block;
}

.site-navigation {
    position: fixed;
    bottom: 40px;
    left: 50px;
    z-index: 100;
}
.site-navigation ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.site-navigation li {
    margin-bottom: 8px;
}
.site-navigation a {
    font-size: 14px;
    font-weight: 500;
    position: relative;
    transition: color 0.3s ease;
}

.site-navigation a.active {
    color: var(--accent-color-blue);
}

.site-navigation a.active::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    width: 100%;
    height: 1px;
    background-color: var(--accent-color-blue);
}

/* --- 3. 內容畫布 (Grid 核心) --- */
.content-canvas {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    grid-auto-rows: minmax(10vh, auto);
    gap: 20px 20px;
    width: 90%;
    max-width: 1600px;
    margin: 0 auto; 
    padding: 40px 0 10vh 0; 
    isolation: isolate; 
}

/* 背景專用元素 */
.white-background-area {
    grid-column: 1 / -1; 
    grid-row: 2 / 6; 
    background-color: #ffffff;
    z-index: -1;
}

/* --- 3.1 英雄區 (輪播) --- */
.hero-collage {
    grid-column: 4 / 10; 
    grid-row: 1; 
    position: relative;
    height: 60vh; 
    perspective: 1200px; 
    margin-bottom: 15vh;
}
.image-layer {
    position: absolute;
    width: 70%; 
    aspect-ratio: 550 / 733;
    transform-style: preserve-3d;
    backface-visibility: hidden;
    transition: transform 1.2s cubic-bezier(0.45, 0, 0.55, 1),
                opacity 0.8s ease-in-out,
                z-index 0s 0.6s;
    cursor: pointer;
    transform: translateX(0) scale(0.7);
    opacity: 0;
    z-index: 1;
}
.image-layer.active {
    transform: translateX(15%) translateY(5%) scale(1) translateZ(100px);
    opacity: 1;
    z-index: 10;
}
.image-layer.next {
    transform: translateX(60%) translateY(15%) scale(0.8) translateZ(-50px);
    opacity: 0.5;
    z-index: 5;
}
.image-layer.prev {
    transform: translateX(-30%) translateY(15%) scale(0.8) translateZ(-50px);
    opacity: 0.5;
    z-index: 5;
}
.image-layer img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background-color: transparent; 
    border: none;
    box-sizing: border-box; 
}

/* --- 3.2 介紹文字 --- */
.intro-text {
    grid-column: 4 / 10;
    grid-row: 2; 
    text-align: center;
    font-size: 1.25rem;
    line-height: 1.8;
    max-width: 600px;
    justify-self: center; 
    margin-bottom: 15vh; 
}
.intro-text .link-arrow {
    display: inline-block;
    margin-top: 20px;
    font-size: 1rem;
    font-weight: 500;
}

/* --- 3.3 - 3.5 內容展示區 --- */
.showcase {
    margin-bottom: 15vh;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

.showcase.visible {
    opacity: 1;
    transform: translateY(0);
}

/* (*** .map-placeholder 樣式已修改 ***) */
.map-placeholder {
    width: 100%;
    /* 移除了 height, display, justify-content, align-items, color */
    background-color: #e9e9e9; /* 載入時的底色 */
    margin-bottom: 15px;
    aspect-ratio: 4 / 3; /* 鎖定 4:3 比例 */
    overflow: hidden; /* 隱藏多餘部分 */
}

/* (*** 為 iframe 新增的樣式 ***) */
.map-placeholder iframe {
    width: 100%;
    height: 100%;
    border: none;
}

.restoration-image-wrapper {
    width: 100%;
    aspect-ratio: 4 / 3; 
    margin-bottom: 15px;
    overflow: hidden; 
    background-color: #f9f9f9; 
}
.restoration-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: contain; 
    display: block; 
}
.service-image-wrapper {
    width: 100%;
    aspect-ratio: 1000 / 1342; 
    margin-bottom: 15px;
    overflow: hidden; 
    background-color: #f9f9f9; 
}
.service-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: contain; 
    display: block; 
}
.showcase-caption p {
    margin: 0 0 5px 0;
    font-weight: 500;
}
.showcase-caption a {
    text-decoration: underline;
    font-size: 14px;
}
.showcase-caption span {
    font-size: 14px;
    color: #666;
}
.showcase-restoration {
    grid-column: 2 / 7; 
    grid-row: 3; 
}
.showcase-services {
    grid-column: 8 / 12; 
    grid-row: 3; 
    margin-top: 20vh; 
}
.showcase-map {
    grid-column: 4 / 10; 
    grid-row: 4; 
}

/* --- 3.6 頁尾 --- */
.site-footer {
    grid-column: 1 / -1; 
    grid-row: 5; 
    text-align: center;
    padding: 10vh 0;
    border-top: 1px solid #ddd;
    margin-top: 10vh;
}

/* (*** .social-icons-wrapper 樣式已修改 ***) */
.social-icons-wrapper {
    display: flex;
    justify-content: center;
    gap: 25px; 
    align-items: center; /* 讓圓形圖示和 QR Code 垂直置中對齊 */
}
.icon-link {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50px;  
    height: 50px; 
    border-radius: 50%; 
    background-color: #333; 
    color: #ffffff; 
    text-decoration: none;
    transition: background-color 0.3s ease, opacity 0.3s ease;
}
.icon-link:hover {
    opacity: 0.8;
}
.icon-link i {
    font-size: 24px; 
}
.icon-link.icon-fb {
    background-color: #1877F2;
}
.icon-link.icon-ruten {
    background-color: #F60; 
}
.icon-link.icon-ruten span {
    font-size: 24px;
    font-weight: bold;
    line-height: 1;
}

/* (*** .icon-link.icon-qr 樣式已移除 ***) */

/* (*** 這是為 QR Code 新增的樣式 ***) */
.footer-qrcode {
    width: 70px; /* 設定一個適合掃描的尺寸 */
    height: 70px;
    padding: 4px; /* 留一點白邊 */
    background: #ffffff;
    border: 1px solid #ddd;
    box-sizing: border-box; /* 確保邊框和 padding 不會撐大尺寸 */
}
.footer-qrcode img {
    width: 100%;
    height: 100%;
    display: block;
}


/* --- 響應式設計 (RWD) --- */
@media (max-width: 768px) {
    /* (RWD 區塊) */
    .site-identifier {
        position: static; 
        text-align: center;
        padding: 20px 0 0 0; 
        display: flex;
        justify-content: center;
        background-color: var(--bg-color); 
        z-index: auto; 
    }
    .site-identifier img {
        height: 35px;
    }
    .site-navigation {
        position: static; 
        width: 100%;
        padding: 10px 0;
        background-color: #fff;
        border-bottom: 1px solid #eee;
    }
    .site-navigation ul {
        display: flex;
        justify-content: space-around;
        font-size: 12px;
    }
    .site-navigation li { margin: 0; }

    .content-canvas {
        display: block;
        width: 100%;
        padding: 5vh 5%; 
        box-sizing: border-box; 
        isolation: auto; 
    }

    .white-background-area {
        display: none;
    }
    
    .intro-text,
    .showcase-restoration,
    .showcase-services,
    .showcase-map,
    .site-footer {
        background-color: #ffffff; 
        padding-left: 5%; 
        padding-right: 5%;
        box-sizing: border-box; 
        margin-left: -5%; 
        margin-right: -5%;
    }
    
    .intro-text {
        padding-top: 8vh;
        padding-bottom: 8vh; 
    }
    
    .showcase-restoration,
    .showcase-services,
    .showcase-map {
        padding-bottom: 8vh;
    }
    
    /* (*** .map-placeholder 在 RWD 下也套用 4:3 ***) */
    .map-placeholder {
        height: auto; /* 移除固定高度 */
    }

    .site-footer {
        padding-bottom: 8vh; 
        padding-top: 8vh; 
    }

    .hero-collage,
    .intro-text,
    .showcase-restoration,
    .showcase-services,
    .showcase-map,
    .site-footer {
        grid-column: auto;
        grid-row: auto;
        margin-top: 0; 
        margin-bottom: 0; 
    }
    
    .hero-collage {
        height: 50vh; 
        margin-bottom: 0; 
    }

    .image-layer {
        width: 80%;
    }

    .intro-text {
        font-size: 1.1rem;
    }

    .social-icons-wrapper {
        gap: 20px;
    }
}
